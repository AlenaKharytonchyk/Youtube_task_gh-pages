!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=15)}([function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[e].concat(s).concat([r]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),n.push(o))}},n}},function(t,n,e){var i={},r=function(t){var n;return function(){return void 0===n&&(n=t.apply(this,arguments)),n}}(function(){return window&&document&&document.all&&!window.atob}),s=function(t){var n={};return function(t,e){if("function"==typeof t)return t();if(void 0===n[t]){var i=function(t,n){return n?n.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}n[t]=i}return n[t]}}(),o=null,a=0,l=[],c=e(7);function u(t,n){for(var e=0;e<t.length;e++){var r=t[e],s=i[r.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](r.parts[o]);for(;o<r.parts.length;o++)s.parts.push(g(r.parts[o],n))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(g(r.parts[o],n));i[r.id]={id:r.id,refs:1,parts:a}}}}function d(t,n){for(var e=[],i={},r=0;r<t.length;r++){var s=t[r],o=n.base?s[0]+n.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(a):e.push(i[o]={id:o,parts:[a]})}return e}function h(t,n){var e=s(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),l.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertAt.before,e);e.insertBefore(n,r)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=l.indexOf(t);n>=0&&l.splice(n,1)}function p(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return e.nc}();i&&(t.attrs.nonce=i)}return m(n,t.attrs),h(t,n),n}function m(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function g(t,n){var e,i,r,s;if(n.transform&&t.css){if(!(s="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=s}if(n.singleton){var l=a++;e=o||(o=p(n)),i=b.bind(null,e,l,!1),r=b.bind(null,e,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(n,t.attrs),h(t,n),n}(n),i=function(t,n,e){var i=e.css,r=e.sourceMap,s=void 0===n.convertToAbsoluteUrls&&r;(n.convertToAbsoluteUrls||s)&&(i=c(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,e,n),r=function(){f(e),e.href&&URL.revokeObjectURL(e.href)}):(e=p(n),i=function(t,n){var e=n.css,i=n.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),r=function(){f(e)});return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=r()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=d(t,n);return u(e,n),function(t){for(var r=[],s=0;s<e.length;s++){var o=e[s];(a=i[o.id]).refs--,r.push(a)}t&&u(d(t,n),n);for(s=0;s<r.length;s++){var a;if(0===(a=r[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var v=function(){var t=[];return function(n,e){return t[n]=e,t.filter(Boolean).join("\n")}}();function b(t,n,e,i){var r=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=v(n,r);else{var s=document.createTextNode(r),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(s,o[n]):t.appendChild(s)}}},function(t,n){t.exports='<form onsubmit="return false">\r\n  <div class="input-form">\r\n        <span class="fa fa-search"></span>\r\n    <input type="text" name="" id="" class="input-search" /> <input type="submit" value="" class="btn-search" />\r\n  </div>\r\n</form>\r\n<div class="search-result"></div>\r\n<div class="pagination"></div>'},function(t,n){t.exports='<div class="result-card">\n  <img src="xxxHTMLLINKxxx0.85014198439225620.913023250748741xxx" alt="" />\n  <a class="title" href="" target="_blank"><h1></h1></a>\n <section>\n     <div class="statistics">\n         <div><i class="fas fa-male"></i><span class="statistics__male"></span></div>\n         <div><i class="fas fa-calendar-alt"></i><span class="statistics__calendar"></span></div>\n         <div><i class="fas fa-eye"></i><span class="statistics__eye"></span></div>\n     </div>\n  <p class="info"></p></section>\n</div>\n'},function(t,n){t.exports='<div class="pagination-btns">\n</div>\n'},function(t,n,e){var i=e(6);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"#youtube-search {\n  width: 100%;\n}\n#youtube-search form {\n  width: 100%;\n  margin-top: 5px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n#youtube-search .btn-search {\n  display: none;\n}\ninput {\n  width: 85%;\n  height: inherit;\n  border: 0;\n  outline: none;\n  background: transparent;\n  position: absolute;\n  padding-left: 1em;\n}\ninput input:focus {\n  outline: 0;\n}\n.input-form {\n  width: 25em;\n  max-width: 80vw;\n  height: 2em;\n  border-radius: 5px;\n  background-color: #eee;\n  display: inline-block;\n  position: relative;\n}\n.input-form span {\n  padding: 0.5em 0 0 0.5em;\n}\n.search-result {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n}\n.search-result {\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n}\n.search-result.dragging {\n  user-select: none;\n}\n.smooth {\n  transition: transform 0.5s ease-out;\n}\n",""])},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,i=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var r,s=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?e+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,n,e){var i=e(9);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,".result-card {\n  background: #fff;\n  border: solid 5px #fff;\n  box-shadow: 0 2px 1px #efefef;\n  margin: 1rem;\n  width: 18em;\n  height: 30em;\n  border-radius: 5px;\n  position: relative;\n  overflow: hidden;\n}\n.result-card img {\n  background-color: #fff;\n  position: absolute;\n  width: inherit;\n  height: 10em;\n}\n.result-card a {\n  text-decoration: none;\n}\n.result-card .title {\n  color: #fff;\n  font-size: 0.7em;\n  position: relative;\n}\n.result-card h1 {\n  background-color: rgba(4, 80, 4, 0.9);\n  width: inherit;\n  height: 20%;\n  overflow: hidden;\n}\n.result-card .info {\n  background-color: #fff;\n  font-style: italic;\n  font-size: 1em;\n  width: 90%;\n  height: 8em;\n  overflow: hidden;\n  margin: 2em 1em;\n}\n.result-card .statistics div {\n  margin: 1em auto;\n  color: grey;\n}\n.result-card .statistics div i.fas {\n  width: 20%;\n  text-align: center;\n  font-size: x-large;\n}\n.icon {\n  padding-left: 3rem;\n  color: grey;\n}\nsection {\n  margin-top: 5em;\n}\n.slideInLeft {\n  animation-name: slideInLeft;\n  animation-duration: 0.5s;\n  animation-timing-function: ease-in-out;\n  visibility: visible !important;\n}\n@keyframes slideInLeft {\n  0% {\n    transform: translateX(150%);\n    opacity: 0;\n  }\n  70% {\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%);\n  }\n}\n.slideOutLeft {\n  animation-name: slideOutLeft;\n  animation-duration: 0.5s;\n  animation-timing-function: ease-in-out;\n  visibility: visible !important;\n}\n@keyframes slideOutLeft {\n  0% {\n    transform: translateX(0%);\n    opacity: 1;\n  }\n  70% {\n    opacity: 0.5;\n  }\n  100% {\n    transform: translateX(150%);\n    opacity: 0;\n  }\n}\n.slideInRight {\n  animation-name: slideInRight;\n  animation-duration: 0.5s;\n  animation-timing-function: ease-in-out;\n  visibility: visible !important;\n}\n@keyframes slideInRight {\n  0% {\n    transform: translateX(-150%);\n    opacity: 0;\n  }\n  70% {\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0%);\n  }\n}\n.slideOutRight {\n  animation-name: slideOutRight;\n  animation-duration: 0.5s;\n  animation-timing-function: ease-in-out;\n  visibility: visible !important;\n}\n@keyframes slideOutRight {\n  0% {\n    transform: translateX(0%);\n    opacity: 1;\n  }\n  70% {\n    opacity: 0.5;\n  }\n  100% {\n    transform: translateX(-150%);\n    opacity: 0;\n  }\n}\n",""])},function(t,n,e){var i=e(11);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"@media only screen and (max-width: 760px) {\n  .tooltiptext {\n    display: none;\n  }\n}\n.pagination-btns {\n  text-align: center;\n  display: none;\n}\n.pagination-btns.active {\n  display: block;\n}\n.pagination-btns div {\n  background-color: white;\n  border-radius: 50%;\n  border: solid;\n  margin: 0 0.2em;\n  color: white;\n  text-align: center;\n  vertical-align: middle;\n  padding: 0;\n  height: 1.5em;\n  width: 1.5em;\n}\n.pagination-btns div:focus {\n  outline: 0;\n}\n.pagination-btns .pagination-btns__current {\n  background-color: red;\n}\n.tooltip {\n  position: relative;\n  display: inline-block;\n}\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 4em;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  padding: 0.2em 0.1em;\n  border-radius: 6px;\n  position: absolute;\n  z-index: 1;\n  top: 100%;\n  left: 50%;\n  margin-left: -2em;\n}\n.tooltip .tooltiptext::after {\n  content: ' ';\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent transparent black transparent;\n}\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n}\n",""])},function(t,n,e){t.exports=e.p+"assets/searcIcon-019d053e5237b33da71c3293569e220e.png"},function(t,n,e){var i=e(14);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"body {\n  background-color: #2b2a2a;\n  margin: 0 auto;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  width: 100%;\n}\n",""])},function(t,n,e){"use strict";e.r(n);e(5);var i=e(2),r=e.n(i),s="AIzaSyDdyJf-frUKVGh42LhzOGkrnzqIONCtVuk",o="https://www.googleapis.com/youtube/v3/search",a="https://content.googleapis.com/youtube/v3/videos";var l=()=>{return{getVideos:(t,n,e,i)=>{let r=`${o}?part=snippet&key=${s}&q=${t}&type=${i||"video"}&order=${e||"viewCount"}&maxResults=15`;n&&(r+=`&pageToken=${n}`);const a=new Request(r);return fetch(a).then(t=>200===t.status?t.json():{})},getVideoDetails:t=>{const n=new Request(`${a}?part=statistics&key=${s}&id=${t}`);return fetch(n).then(n=>200===n.status?n.json().then(n=>n.items.find(n=>n.id===t).statistics):{})}}},c=e(3),u=e.n(c);e(8);const d=300,h=500;class f{constructor(t,n){this.container=t,this.element=window.document.createElement("div"),this.element.innerHTML=u.a;const{snippet:{title:e,description:i,thumbnails:r,channelTitle:s,publishedAt:o},statistics:a,id:{videoId:l}}=n;this.elementId=`q${l}`,this.element.querySelector(".result-card").setAttribute("id",this.elementId),this.element.querySelector(".title h1").textContent=e,this.element.querySelector(".title").setAttribute("href",`https://www.youtube.com/watch?v=${l}`),this.element.querySelector(".info").textContent=i,this.element.querySelector("img").setAttribute("src",r.medium.url),this.element.querySelector("img").setAttribute("alt",e),this.element.querySelector(".statistics__male").textContent=s,this.element.querySelector(".statistics__calendar").textContent=o.slice(0,10),this.element.querySelector(".statistics__eye").textContent=a.viewCount}fadeIn(t){setTimeout(()=>{this.container.appendChild(this.element.firstChild),this.element=this.container.querySelector(`#${this.elementId}`),t&&(this.element.classList.add(t),setTimeout(()=>{this.element.classList.remove(t)},h))},h)}fadeOut(t){t&&this.element.classList.add(t),setTimeout(()=>{this.container.removeChild(this.element)},h)}}var p=e(4),m=e.n(p);e(10);function g(t,n,e){const i=window.document.createElement("div"),r=window.document.createElement("span");return i.setAttribute("id",`button_${t+1}`),i.classList.add(e?"pagination-btns__current":"pagination-btns__other"),i.classList.add("tooltip"),i.textContent=t+1,n&&i.addEventListener("click",()=>n(t)),r.classList.add("tooltiptext"),r.textContent=t+1,i.appendChild(r),i}var v=class{constructor(t,n,e){this.onSelectPage=n,this.onChunkEnd=e,this.element=window.document.querySelector(t),this.element.innerHTML=m.a.trim()}init(){this.btnContainer.classList.add("active"),this.btnContainer.innerHTML="",this.page=0;const t=Math.ceil(this.resultCount/this.resultPerPage);for(let n=0;n<t;n+=1){const t=new g(n,t=>this.btnClick(t),n===this.currentPage);this.btnContainer.appendChild(t)}}update(){const t=Math.ceil(this.resultCount/this.resultPerPage),n=this.btnContainer.children.length;if(t>n)for(let e=n;e<t;e+=1){const t=new g(e,t=>this.btnClick(t),e===this.currentPage);this.btnContainer.appendChild(t)}else for(let e=0;e<n-t;e+=1)this.btnContainer.removeChild(this.btnContainer.lastChild)}get btnContainer(){return this.element.querySelector(".pagination-btns")}btnClick(t,n){!n&&(t===this.currentPage||t<0)||(this.onSelectPage(t,this.resultPerPage,this.currentPage),this.currentPage=t)}get currentPage(){return this.page}set currentPage(t){if(this.page===t)return;const n=this.page;this.page=t;const e=this.btnContainer.children;e.length>n&&e[n].classList.replace("pagination-btns__current","pagination-btns__other"),e[this.page].classList.replace("pagination-btns__other","pagination-btns__current"),this.page>=e.length-2&&this.onChunkEnd()}next(){this.btnClick(this.currentPage+1)}prev(){this.btnClick(this.currentPage-1)}};e(12);var b=function(t,n,e){const i=t;let r=null,s=!1;const o=t=>t.changedTouches?t.changedTouches[0]:t,a=n=>{r=o(n).clientX,s=!0,t.classList.add("dragging")};function l(i){if(s){const a=o(i).clientX-r;a<-10&&n(),a>10&&e(),s=!1,r=null,t.classList.remove("dragging")}}i.addEventListener("mousedown",a,!1),i.addEventListener("touchstart",a,!1),i.addEventListener("mouseup",l,!1),i.addEventListener("touchend",l,!1)};const y=".search-result",x=l();var w=class{constructor(t){this.element=window.document.querySelector(t),this.resultCards=[]}get searchText(){return this.element.querySelector(".input-search").value}get resultContainerWidth(){return this.element.querySelector(y).offsetWidth}get searchResultContainer(){return this.element.querySelector(".search-result")}onSearchClick(){this.element.querySelector(".search-result").innerHTML="",x.getVideos(this.searchText).then(({nextPageToken:t,prevPageToken:n,items:e})=>{this.items=e,this.nextPage=t,this.previousPage=n,this.pagination.resultCount=e.length,this.pagination.resultPerPage=Math.floor(this.resultContainerWidth/d),this.pagination.init(),this.renderResult(this.pagination.currentPage,this.pagination.resultPerPage,-1)})}renderResult(t,n,e){const i=t*n,r=i+n,s=t>e,o=this.items.slice(i,r).map(({id:{videoId:t}},n)=>x.getVideoDetails(t).then(t=>{this.items[n+i]={...this.items[n+i],statistics:t}}));Promise.all(o).then(()=>{this.resultCards.forEach(t=>{t.fadeOut(s?"slideOutRight":"slideOutLeft")}),this.resultCards=[],this.items.slice(i,r).forEach(t=>{const n=new f(this.searchResultContainer,t);this.resultCards.push(n),n.fadeIn(s?"slideInLeft":"slideInRight")})})}getNewChunk(){x.getVideos(this.searchText,this.nextPage).then(({nextPageToken:t,prevPageToken:n,items:e})=>{this.items.push(...e),this.nextPage=t,this.previousPage=n,this.pagination.resultCount=this.items.length,this.pagination.resultPerPage=Math.floor(this.resultContainerWidth/d),this.pagination.update()})}render(){this.element.innerHTML=r.a.trim(),this.element.querySelector(".btn-search").addEventListener("click",()=>{this.onSearchClick()}),b(this.searchResultContainer,()=>this.pagination.next(),()=>this.pagination.prev()),this.pagination=new v(".pagination",(t,n,e)=>this.renderResult(t,n,e),()=>this.getNewChunk()),window.onresize=(()=>{const{pagination:{resultPerPage:t,currentPage:n},items:e,resultContainerWidth:i}=this,r=Math.floor(i/d);if(!e||0===e.length||t===r)return;const s=t*n,o=Math.floor(s/r);this.pagination.resultPerPage=Math.floor(i/d),this.pagination.update(),this.pagination.btnClick(o,!0)})}};e(13);new w("#youtube-search").render()}]);
//# sourceMappingURL=bundle.js.map